<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Añadir referencia
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-progress-bar type="indeterminate" *ngIf="cargando"></ion-progress-bar>

<ion-content [fullscreen]="true" *ngIf="!cargando">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Añadir referencia</ion-title>
    </ion-toolbar>
  </ion-header>
  <div class="titulo">
    <p>Por favor ingrese los datos de la referencia bibliográfica:</p>
  </div>
  <div class="formulario" [formGroup]="refBibliograficaForm">

    <span *ngIf="refBibliograficaForm.controls.titulo.errors?.required && refBibliograficaForm.controls.titulo.touched" class="error">*Campo requerido</span>
    <ion-item>
      <ion-label position="floating">Titulo de la publicacion:</ion-label>
      <ion-input required formControlName="titulo"></ion-input>
    </ion-item>

    <span *ngIf="refBibliograficaForm.controls.autores.errors?.required && refBibliograficaForm.controls.autores.touched" class="error">*Campo requerido</span>
    <ion-item>
      <ion-label position="floating">Autores (ej. Daniel Bravo, Felipe Calvache):</ion-label>
      <ion-input required formControlName="autores"></ion-input>
    </ion-item>
    
    <span *ngIf="refBibliograficaForm.controls.eventorevista.errors?.required && refBibliograficaForm.controls.eventorevista.touched" class="error">*Campo requerido</span>
    <ion-item>
      <ion-label position="floating">Evento/revista:</ion-label>
      <ion-input required formControlName="eventorevista"></ion-input>
    </ion-item>

    <span *ngIf="refBibliograficaForm.controls.tipoPub.errors?.required && refBibliograficaForm.controls.tipoPub.touched" class="error">*Campo requerido</span>
    <ion-item>
      <ion-label>Tipo de publicación:</ion-label>
      <ion-select formControlName="tipoPub">
        <ion-select-option *ngFor="let item of tiposPub" [value]="item">{{item}}</ion-select-option>
      </ion-select>
    </ion-item>

    <span *ngIf="refBibliograficaForm.controls.anioPub.errors?.required && refBibliograficaForm.controls.anioPub.touched" class="error">*Campo requerido</span>
    <ion-item>
      <ion-label position="floating">Año de publicación:</ion-label>
      <ion-input required formControlName="anioPub" type="number"></ion-input>
    </ion-item>
    
    <span *ngIf="refBibliograficaForm.controls.doi.errors?.required && refBibliograficaForm.controls.doi.touched" class="error">*Campo requerido</span>
    <ion-item>
      <ion-label position="floating">Doi:</ion-label>
      <ion-input required formControlName="doi"></ion-input>
    </ion-item>
    <ion-button expand="full" class="primary" (click)="guardar()">Guardar</ion-button>
  </div>

</ion-content>